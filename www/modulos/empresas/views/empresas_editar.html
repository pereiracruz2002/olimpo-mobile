<ion-view  title="Empresas Editar">
<ion-content class="content has-header">

<div class="list" ng-if="msg.length>0" >
    <div >
        <div class="list card">

            <p ng-repeat="item in msg" class="item item-icon-left" href="#">
                <i class="icon ion-alert-circled"></i>
                {{item}}
            </p>

        </div>


    </div>
</div>

<form id="cadastroEmpresas" name="mainForm" ng-submit="editar()">

    <div class="list list-inset">

        <label class="item item-input item-stacked-label">
            <span>CNPJ</span>
            <input type="text" name="cnpj" id="cnpj"  required ng-model="empresa.cnpj" ui-mask-placeholder-char="_"  ui-mask="99.999.999/9999-99" >

        </label>

        <span class="bloco" ng-show="mainForm.cnpj.$invalid && !mainForm.cnpj.$pristine">CNPJ obrigatório</span>

        <label class="item item-input item-stacked-label">
            <span class="input-label">Nome Fantasia</span>
            <input type="text" name="nome_fantasia" id="nome_fantasia" placeholder="Corporation S/A"  ng-model="empresa.nome_fantasia" required>
        </label>

        <span class="bloco" ng-show="mainForm.nome_fantasia.$invalid && !mainForm.nome_fantasia.$pristine">Nome Fantasia obrigatório</span>


        <label class="item item-input item-stacked-label">
            <span class="input-label">Sobre a Empresa</span>
            <textarea name="descricao" id="descricao" cols="30" ng-model="empresa.descricao" rows="5" placeholder="Digite uma breve descrição sobre sua empresa" required ></textarea>
           
        </label>


        <span class="bloco" ng-show="mainForm.descricao.$invalid && !mainForm.descricao.$pristine">Descrição obrigatório</span>



        <label class="item item-input item-stacked-label">
            <span class="input-label">E-mail</span>
            <input type="email" name="email" id="email" placeholder="ex:jose@terra.com.br" ng-model="empresa.email" required>
        </label>

       <span class="bloco" ng-show="mainForm.email.$error.required && !mainForm.email.$pristine">Digite seu e-mail</span>
                 <span class="bloco" ng-show="mainForm.email.$error.email && !mainForm.email.$pristine">E-mail invalido</span>
        

       <!--  <span class="bloco" ng-show="mainForm.email.$invalid && !mainForm.email.$pristine">E-mail obrigatório</span> -->
        
        

        <label class="item item-input item-stacked-label">
            <span>CEP</span>
            <input type="text" name="cep" id="cep" ng-blur="resgataEndereco()"  ng-model="empresa.enderecos.cep" ui-mask="99999-999" required>
        </label>

        <span class="bloco" ng-show="mainForm.cep.$invalid && !mainForm.cep.$pristine">CEP obrigatório</span>


        <label class="item item-input item-stacked-label">
           <span>Endereço</span>
           <textarea name="endereco" id="endereco" required ng-model="empresa.enderecos.endereco" cols="30" rows="5" placeholder="Ex: Rua tal, 71">{{servico.enderecos.endereco}}</textarea>
       </label>

       <span class="bloco" ng-show="mainForm.endereco.$invalid && !mainForm.endereco.$pristine">Endereço obrigatória</span>

       <label class="item item-input item-stacked-label">
        <span>Bairro</span>
        <input type="text" name="bairro" id="bairro" placeholder="Ex:Paulicéia" required ng-model="empresa.enderecos.bairro" value="{{minhaEmpresa.enderecos.bairro}}">
    </label>

    <span class="bloco" ng-show="mainForm.bairro.$invalid && !mainForm.bairro.$pristine">Bairro obrigatório</span>

    <label class="item item-input item-stacked-label">
        <span>Complemento</span>
        <input type="text" name="complemento" id="complemento" placeholder="Ex:Casa" value="{{empresa.enderecos.complemento}}">
    </label>


    <label class="item item-input item-stacked-label">
        <span>Cidade</span>
        <input type="text" name="cidade" id="cidade" required placeholder="Ex:São Paulo" ng-model="empresa.enderecos.cidade" value="">
    </label>

    <span class="bloco" ng-show="mainForm.cidade.$invalid && !mainForm.cidade.$pristine">Cidade obrigatório</span>

    <label class="item item-input item-stacked-label">
        <span>Estado</span>
        <input type="text" name="estado" id="estado" required placeholder="Ex:SP" ng-model="empresa.enderecos.estado" value="">
    </label>

    <span class="bloco" ng-show="mainForm.estado.$invalid && !mainForm.estado.$pristine">Estado obrigatório</span>


    <span class="bloco" ng-show="mainForm.cep.$invalid && !mainForm.cep.$pristine">CEP obrigatório</span>

    <label class="item item-input item-stacked-label">
        <span>Telefone</span>
        <input type="text" name="telefone" id="telefone"  ui-mask="(099)9999-9999" required ng-model="empresa.enderecos.telefone">
    </label>

    <span class="bloco" ng-show="mainForm.telefone.$invalid && !mainForm.telefone.$pristine">Telefone obrigatório</span>

    <label class="item item-input item-stacked-label">
        <span>Celular</span>
        <input type="text" name="celular" id="celular" ng-model="empresa.enderecos.celular" ui-mask="(099)99999-999?9">
    </label>

    <figure>
        <img src="{{api}}uploads/{{empresa.imagem}}" alt="">
    </figure>

    <button ng-click="imagem()" type="button" class="button button-block button-assertive activated">Adicionar Imagem</button>

    <input type="hidden" ng-model="empresas.imagem" name="imagem" id="imagem" value="{{empresa.imagem}}">

    <input type="hidden" name="empresas_id" id="empresas_id" value="{{empresa.empresas_id}}">
    <button  type="submit" ng-disabled="mainForm.$invalid" class="button button-block button-positive activated">Editar</button>
</div>
</form>

</ion-content>
</ion-view>

